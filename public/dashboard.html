<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Swift Hub Dashboard</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Anton&display=swap" rel="stylesheet">

<style>

/* ============ GLOBAL ============ */

*{
  box-sizing:border-box;
  font-family:"Orbitron",sans-serif;
}

body{
  margin:0;
  background:#000;
  color:#fff;
}

/* ============ BG ============ */

#bg{
  position:fixed;
  inset:0;
  z-index:-1;
  opacity:.15;
  background:linear-gradient(180deg,#111,#000,#111);
  animation:bgmove 15s linear infinite;
}

@keyframes bgmove{
  from{background-position:0%}
  to{background-position:200%}
}

/* ============ HEADER ============ */

header{
  display:flex;
  justify-content:center;
  align-items:center;
  padding:14px;
  position:relative;

  background:#000;
  border-bottom:3px solid #fff;
}

.menu,.back{
  position:absolute;
  left:12px;
  top:50%;
  transform:translateY(-50%);
  font-size:26px;
  cursor:pointer;
}

.back{display:none}

.title{
  font-family:"Anton",sans-serif;
  font-size:24px;
  letter-spacing:3px;

  background:linear-gradient(90deg,#ff0040,#fff,#ff0040);
  background-size:300%;

  -webkit-background-clip:text;
  color:transparent;

  animation:titleFlow 4s linear infinite;

  text-shadow:0 0 15px #fff;
}

@keyframes titleFlow{
  from{background-position:0%}
  to{background-position:300%}
}

/* ============ PANEL ============ */

#panel{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.95);
  display:none;
  z-index:99;

  flex-direction:column;
  justify-content:center;
  align-items:center;
  gap:18px;
}

.panel-btn{
  padding:12px 30px;
  font-size:18px;
  border:2px solid #fff;
  background:#000;
  color:#fff;
  cursor:pointer;

  animation:blink 1s infinite alternate;
}

@keyframes blink{
  from{box-shadow:0 0 5px #fff}
  to{box-shadow:0 0 20px #00ffff}
}

/* ============ STATS ============ */

.stats{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:8px;
  padding:10px;
}

.stat{
  background:#050505;
  border:2px solid #fff;
  padding:8px;
  text-align:center;

  animation:boxBlink 1.4s infinite alternate;
}

@keyframes boxBlink{
  from{box-shadow:0 0 5px #fff}
  to{box-shadow:0 0 15px #00ffff}
}

.stat span{
  font-size:22px;
  font-weight:700;
}

/* ============ TABLE ============ */

.container{
  padding:8px;
}

table{
  width:100%;
  border-collapse:collapse;
}

th,td{
  border:1px solid #fff;
  padding:6px;
  font-size:12px;
  text-align:center;
}

th{
  background:#000;
}

td{
  word-break:break-all;
}

/* ============ STATUS ============ */

.status{
  font-size:18px;
}

.free{
  color:#00ff88;
  text-shadow:0 0 10px #00ff88;
}

.using{
  color:#ffe600;
  text-shadow:0 0 10px #ffe600;
}

.expired{
  color:#ff3333;
  text-shadow:0 0 10px #ff3333;
}

/* ============ PAGES ============ */

.page{
  display:none;
}

.page.active{
  display:block;
}

/* ============ FOOTER ============ */

footer{
  text-align:center;
  font-size:11px;
  color:#777;
  padding:10px;
}

</style>
</head>

<body>

<div id="bg"></div>

<!-- PANEL -->

<div id="panel">

  <div class="panel-btn" onclick="openHome()">üè† Free Keys</div>

  <div class="panel-btn" onclick="openTest()">üß™ Test Keys</div>

  <div class="panel-btn" onclick="openStats()">üìä Statistics</div>

  <div class="panel-btn" onclick="closePanel()">‚ùå Close</div>

</div>

<!-- HEADER -->

<header>

  <div class="menu" id="menuBtn" onclick="openPanel()">‚ò∞</div>

  <div class="back" id="backBtn" onclick="goBack()">‚¨Ö</div>

  <div class="title">SWIFT HUB DASHBOARD</div>

</header>

<!-- HOME (FREE) -->

<div id="homePage" class="page active">

  <div class="stats">

    <div class="stat">Total<br><span id="total">0</span></div>
    <div class="stat">Free<br><span id="free">0</span></div>
    <div class="stat">Used<br><span id="used">0</span></div>

  </div>

  <div class="container">

    <table>

      <thead>
        <tr>
          <th>#</th>
          <th>User</th>
          <th>Key</th>
          <th>Status</th>
          <th>Time</th>
        </tr>
      </thead>

      <tbody id="freeData"></tbody>

    </table>

  </div>

</div>

<!-- TEST PAGE -->

<div id="testPage" class="page">

  <div class="container">

    <h3>üß™ Test Keys</h3>

    <table>

      <thead>
        <tr>
          <th>#</th>
          <th>Key</th>
          <th>Status</th>
          <th>Time</th>
        </tr>
      </thead>

      <tbody id="testData"></tbody>

    </table>

  </div>

</div>

<!-- STATS PAGE -->

<div id="statsPage" class="page">

  <div class="container">

    <h3>üìä Statistics</h3>

    <p id="statsText"></p>

  </div>

</div>

<footer>
Swift Hub ¬© 2026
</footer>

<script>

/* ============ PANEL ============ */

function openPanel(){
  panel.style.display="flex";
}

function closePanel(){
  panel.style.display="none";
}

/* ============ PAGE SWITCH ============ */

function hideAll(){

  document
    .querySelectorAll(".page")
    .forEach(p=>p.classList.remove("active"));

}

function openHome(){

  hideAll();

  homePage.classList.add("active");

  backBtn.style.display="none";
  menuBtn.style.display="block";

  closePanel();
}

function openTest(){

  hideAll();

  testPage.classList.add("active");

  backBtn.style.display="block";
  menuBtn.style.display="none";

  closePanel();
}

function openStats(){

  hideAll();

  statsPage.classList.add("active");

  backBtn.style.display="block";
  menuBtn.style.display="none";

  closePanel();
}

function goBack(){
  openHome();
}

/* ============ TIME ============ */

function format(ms){

  if(!ms || ms<=0) return "00:00:00";

  let s=Math.floor(ms/1000);

  let h=Math.floor(s/3600);
  let m=Math.floor((s%3600)/60);
  let se=s%60;

  return `${h.toString().padStart(2,"0")}:${m
    .toString().padStart(2,"0")}:${se
    .toString().padStart(2,"0")}`;
}

/* ============ DATA ============ */

async function load(){

  try{

    const res=await fetch("/api/dashboard");
    const data=await res.json();

    let freeHTML="";
    let testHTML="";

    let total=0,free=0,used=0;

    data.forEach((k,i)=>{

      let cls="",st="",time="";

      if(!k.used){

        cls="free";
        st="üü¢";
        time="FREE";
        free++;

      }else if(k.left>0){

        cls="using";
        st="üü°";
        time=format(k.left);
        used++;

      }else{

        cls="expired";
        st="üî¥";
        time="EXPIRED";
        used++;
      }

      total++;

      /* FREE PAGE */

      if(k.type==="free"){

        freeHTML+=`
        <tr>
          <td>${free+used}</td>
          <td>${k.user||"-"}</td>
          <td>${k.key}</td>
          <td class="status ${cls}">${st}</td>
          <td>${time}</td>
        </tr>
        `;
      }

      /* TEST PAGE */

      if(k.type==="test"){

        testHTML+=`
        <tr>
          <td>${i+1}</td>
          <td>${k.key}</td>
          <td class="status ${cls}">${st}</td>
          <td>${time}</td>
        </tr>
        `;
      }

    });

    freeData.innerHTML=freeHTML;
    testData.innerHTML=testHTML;

    totalEl.textContent=total;
    freeEl.textContent=free;
    usedEl.textContent=used;

    statsText.textContent=
      `Total: ${total} | Free: ${free} | Used: ${used}`;

  }catch(e){
    console.log(e);
  }
}

/* ============ INIT ============ */

const panel=document.getElementById("panel");

const homePage=document.getElementById("homePage");
const testPage=document.getElementById("testPage");
const statsPage=document.getElementById("statsPage");

const menuBtn=document.getElementById("menuBtn");
const backBtn=document.getElementById("backBtn");

const freeData=document.getElementById("freeData");
const testData=document.getElementById("testData");

const totalEl=document.getElementById("total");
const freeEl=document.getElementById("free");
const usedEl=document.getElementById("used");

const statsText=document.getElementById("statsText");

load();
setInterval(load,2000);

</script>

</body>
</html>
