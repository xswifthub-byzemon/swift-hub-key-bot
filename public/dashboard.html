<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Swift Hub Control Panel</title>

<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700&display=swap" rel="stylesheet">

<style>

*{
  box-sizing:border-box;
  font-family:"Orbitron",sans-serif;
}

body{
  margin:0;
  background:#0b0b0f;
  color:#fff;
  overflow-x:hidden;
}

/* ================= Background Animation ================= */

.bg-anime{
  position:fixed;
  width:120px;
  opacity:0.15;
  animation:float 25s linear infinite;
  z-index:-1;
}

@keyframes float{
  from{transform:translateX(-200px);}
  to{transform:translateX(120vw);}
}

/* ================= Header ================= */

header{
  display:flex;
  align-items:center;
  gap:12px;
  padding:15px;
  background:#000;
  border-bottom:2px solid #222;
}

header img{
  width:40px;
  border-radius:50%;
}

header h1{
  margin:0;
  font-size:20px;
}

/* ================= Table ================= */

.container{
  padding:15px;
}

table{
  width:100%;
  border-collapse:collapse;
  background:#111;
  border-radius:12px;
  overflow:hidden;
}

th,td{
  padding:10px 6px;
  font-size:12px;
  text-align:center;
}

th{
  background:#000;
  color:#aaa;
}

tr:nth-child(even){
  background:#161616;
}

tr:hover{
  background:#222;
}

/* ================= Status ================= */

.status{
  font-size:16px;
  font-weight:700;
  animation:blink 1.2s infinite;
}

@keyframes blink{
  0%{opacity:1}
  50%{opacity:.4}
  100%{opacity:1}
}

.free{
  color:#00ff88;
  text-shadow:0 0 10px #00ff88;
}

.using{
  color:#ffe600;
  text-shadow:0 0 10px #ffe600;
}

.expired{
  color:#ff3333;
  text-shadow:0 0 10px #ff3333;
}

/* ================= Footer ================= */

footer{
  text-align:center;
  font-size:11px;
  color:#666;
  padding:15px;
}

</style>
</head>

<body>

<!-- Floating Background -->
<img class="bg-anime" src="https://cdn.discordapp.com/attachments/1469089205840904427/1469146767705767949/9792cd65875edf6333f3a32eb216040b.jpg" style="top:20%;animation-duration:28s;">
<img class="bg-anime" src="https://cdn.discordapp.com/attachments/1469089205840904427/1469146767705767949/9792cd65875edf6333f3a32eb216040b.jpg" style="top:60%;animation-duration:35s;">

<!-- Header -->
<header>
  <img src="https://cdn.discordapp.com/attachments/1469089205840904427/1469146767705767949/9792cd65875edf6333f3a32eb216040b.jpg">
  <h1>Swift Hub ‚Ä¢ Key Control</h1>
</header>

<!-- Table -->
<div class="container">

<table>

<thead>
<tr>
  <th>#</th>
  <th>üë§ User</th>
  <th>üîë Key</th>
  <th>üö¶ Status</th>
  <th>‚è± Time</th>
</tr>
</thead>

<tbody id="data"></tbody>

</table>

</div>

<footer>
Swift Hub System ¬© 2026 ‚Ä¢ Secure
</footer>

<script>

function format(ms){

  if(ms<=0) return "00 : 00 : 00";

  let s = Math.floor(ms/1000);

  let h = Math.floor(s/3600);
  let m = Math.floor((s%3600)/60);
  let se = s%60;

  return `${String(h).padStart(2,"0")} : ${String(m).padStart(2,"0")} : ${String(se).padStart(2,"0")}`;
}

async function load(){

  try{

    const res = await fetch("/api/dashboard");
    const data = await res.json();

    let html = "";

    data.forEach((k,i)=>{

      let status = "";
      let cls = "";
      let time = "";

      if(!k.used){

        status = "üü¢";
        cls = "free";
        time = "06 : 00 : 00";

      }else if(k.left>0){

        status = "üü°";
        cls = "using";
        time = format(k.left);

      }else{

        status = "üî¥";
        cls = "expired";
        time = "EXPIRED";
      }

      html += `
      <tr>

        <td>${i+1}</td>

        <td>${k.user || "‚Äî"}</td>

        <td>${k.key.slice(0,20)}...</td>

        <td class="status ${cls}">
          ${status}
        </td>

        <td>${time}</td>

      </tr>
      `;
    });

    document.getElementById("data").innerHTML = html;

  }catch(e){
    console.log("Load error",e);
  }
}

load();
setInterval(load,1000);

</script>

</body>
</html>
